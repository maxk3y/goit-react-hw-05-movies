"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[233],{8233:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r,a,o,i,c=t(9439),u=t(2791),s=t(1087),p=t(1414),f=t(7167),l=t(1686),h=t.n(l),d=t(168),v=t(6444),x=v.ZP.section(r||(r=(0,d.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  width: 100vw;\n  min-height: 50px;\n  padding: 12px 24px;\n  padding-left: 40px;\n  background-color: #5e8cff;\n  box-shadow: gray;\n"]))),y=v.ZP.form(a||(a=(0,d.Z)(["\n  display: flex;\n  width: 100%;\n  max-width: 600px;\n  background-color: orange;\n  border-radius: 4x;\n  overflow: hidden;\n"]))),b=v.ZP.button(o||(o=(0,d.Z)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 1px solid rgb(190, 190, 190);\n  background-size: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.5px;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1px;\n  }\n"]))),m=v.ZP.input(i||(i=(0,d.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 24px;\n  border: none;\n  outline: none;\n  padding: 10px;\n  &::placeholder {\n    font-style: inherit;\n    font-size: 20px;\n  }\n"]))),g=t(184);function w(e){var n=e.onSubmit,t=(0,u.useState)(""),r=(0,c.Z)(t,2),a=r[0],o=r[1],i=function(){return o("")};return(0,g.jsx)(x,{children:(0,g.jsxs)(y,{onSubmit:function(e){if(e.preventDefault(),""===a.trim()||a.length<2)return h().Notify.info("Searching must be no empty and more than 1 letter"),void i();n(a),i()},children:[(0,g.jsx)(m,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search movies...",value:a,onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),(0,g.jsx)(b,{type:"submit"})]})})}var k=(0,u.lazy)((function(){return t.e(47).then(t.bind(t,7047))})),Z=function(){var e,n=(0,u.useState)(null),t=(0,c.Z)(n,2),r=t[0],a=t[1],o=(0,u.useState)(JSON.parse(localStorage.getItem("movies"))||null),i=(0,c.Z)(o,2),l=i[0],d=i[1],v=(0,s.lr)(),x=(0,c.Z)(v,2),y=x[0],b=x[1],m=null!==(e=y.get("query"))&&void 0!==e?e:"";(0,u.useEffect)((function(){m&&p.b.fetchMovieSearch(m).then((function(e){d(e),localStorage.setItem("movies",JSON.stringify(e))})).catch((function(){return h().Notify.failure("Sorry, there are not details of this movie")}))}),[m]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(w,{value:m,onSubmit:function(e){e!==r?(a(e),b({query:e})):h().Notify.failure("The new search must be different from the current search")}}),(0,g.jsx)(u.Suspense,{fallback:(0,g.jsx)(f.a,{}),children:l&&(0,g.jsx)(k,{movies:l})})]})}},1414:function(e,n,t){t.d(n,{b:function(){return v}});var r=t(5861),a=t(4687),o=t.n(a),i=t(1243),c="56c9cff34398937cd3a30d65e68fe36d",u="https://api.themoviedb.org/3/",s="trending/movie/day";function p(){return(p=(0,r.Z)(o().mark((function e(){var n,t,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(u).concat(s,"?api_key=").concat(c));case 2:if(n=e.sent,t=n.data,r=t.results,a=t.total_results,200===n.status&&0!==a){e.next=11;break}throw new Error;case 11:return e.abrupt("return",Object.values(r));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(u,"movie/").concat(n,"?api_key=").concat(c));case 2:if(t=e.sent,r=t.data,200===t.status&&r){e.next=9;break}throw new Error;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(u,"movie/").concat(n,"/credits?api_key=").concat(c));case 2:if(t=e.sent,r=t.data,200===t.status&&r){e.next=9;break}throw new Error;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("".concat(u,"movie/").concat(n,"/reviews?api_key=").concat(c));case 2:if(t=e.sent,r=t.data,200===t.status&&r){e.next=9;break}throw new Error;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return d=(0,r.Z)(o().mark((function e(){var n,t,r,a,s,p,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>0&&void 0!==f[0]?f[0]:"",t=f.length>1&&void 0!==f[1]?f[1]:1,e.next=4,i.Z.get("".concat(u,"search/movie?query=").concat(n,"&page=").concat(t,"&api_key=").concat(c,"&language=en-US&include_adult=false"));case 4:if(r=e.sent,a=r.data,s=a.results,p=a.total_results,200===r.status&&0!==p){e.next=13;break}throw new Error;case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var v={fetchMovieTrends:function(){return p.apply(this,arguments)},fetchMovieSearch:function(){return d.apply(this,arguments)},fetchMovieById:function(e){return f.apply(this,arguments)},fetchCreditsById:function(e){return l.apply(this,arguments)},fetchReviewsById:function(e){return h.apply(this,arguments)}}}}]);
//# sourceMappingURL=233.9eb3ef6e.chunk.js.map